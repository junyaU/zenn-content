# Plan フェーズ

## 目的
記事の詳細な執筆計画を策定する。セクション構成、コード例、図解の計画を立てる。

## 必要な入力ファイル
- `docs/analysis/analyze_{TIMESTAMP}.md` - 調査結果

## 注意事項
- 全ての処理においてultrathinkでしっかりと考えて作業を行うこと
- 読者が理解しやすい順序で構成すること
- コード例は実際に動作するものを用意すること

# ユーザの入力
$ARGUMENTS

## 執筆方針
1. **読者理解の最適化**
   - 段階的に難易度を上げる
   - 具体例を先に、抽象的な説明を後に
   - 図解で視覚的に理解を助ける

2. **既存記事との一貫性**
   - 用語の統一
   - 説明のトーン
   - コードスタイル

## タスクに含まれるべきTODO
1. ユーザの指示を理解する
2. 最新の `docs/analysis/analyze_{TIMESTAMP}.md` を読み込み、調査結果を確認
3. 記事の詳細構成を決定
   - 各セクションの内容
   - コード例の配置
   - 図解の配置
4. 執筆タスクを分解
   - 導入部分
   - 各技術セクション
   - まとめ
5. コード例を計画
   - 各セクションで必要なコード
   - 動作確認の方法
6. 執筆計画を文書化し、`docs/plan/plan_{TIMESTAMP}.md`に保存
7. プラン完成をユーザに通知

## 執筆計画ドキュメントテンプレート
```markdown
# Writing Plan: [記事タイトル]

## 概要
[記事の目的と対象読者]

## 調査結果サマリー
[analysis結果の要約]

## 記事構成

### 導入
- 目的: [導入の目的]
- 内容: [導入で書くこと]
- 想定文字数: [目安]

### セクション1: [セクション名]
- 目的: [このセクションの目的]
- 内容:
  - [ポイント1]
  - [ポイント2]
- コード例: [含めるコード例]
- 図解: [含める図解]

### セクション2: [セクション名]
- 目的: [このセクションの目的]
- 内容:
  - [ポイント1]
  - [ポイント2]
- コード例: [含めるコード例]
- 図解: [含める図解]

### まとめ
- 要点の整理
- 次のステップの提案

## コード例計画
| セクション | コード内容 | 言語 |
|------------|------------|------|
| [セクション名] | [コードの説明] | [C/C++等] |

## 図解計画
| セクション | 図解内容 | 形式 |
|------------|----------|------|
| [セクション名] | [図解の説明] | [Mermaid/ASCII等] |

## 執筆順序
1. [セクション]
2. [セクション]
3. [セクション]

## 成功基準
- [ ] 技術的に正確
- [ ] コード例が動作する
- [ ] 読者が理解しやすい構成
```

## 出力ファイル
- `docs/plan/plan_{TIMESTAMP}.md`

## 最終出力形式
- 必ず以下の形式で出力を行ってください

### プラン策定完了の場合
status: SUCCESS
next: WRITE
details: "執筆プラン策定完了。plan_{TIMESTAMP}.mdに詳細記録。執筆フェーズに移行。"

### 調査不足の場合
status: NEED_MORE_INFO
next: ANALYZE
details: "情報不足。plan_{TIMESTAMP}.mdに詳細記録。追加調査が必要。"
